{"version":3,"sources":["pages/MovieDetails.module.css","components/Search.module.css","components/Spinner.module.css","components/MovieCard.module.css","components/MoviesGrid.module.css","App.module.css","utils/HttpClient.js","components/Spiner.jsx","pages/MovieDetails.jsx","components/MovieCard.jsx","components/MoviesGrid.jsx","hooks/useQuery.jsx","components/Search.jsx","pages/LandingPage.jsx","hooks/useDebounce.js","App.jsx","index.js"],"names":["module","exports","HttpClient","path","fetch","headers","Authorization","then","result","json","Spiner","className","style","spinner","size","spinning","MovieDetails","movieId","useParams","useState","movie","setMovie","isLoading","setIsLoading","useEffect","data","imageUrl","poster_path","detailsContainer","col","movieImage","src","alt","title","movieDetails","firstItem","genres","map","genre","name","join","overview","MovieCard","styles","movieCard","to","id","MoviesGrid","search","movies","setMovies","page","setPage","hasMore","setHasMore","prevMovies","concat","results","total_pages","dataLength","length","next","prevPage","loader","moviesGrid","useQuery","URLSearchParams","useLocation","Search","get","history","useHistory","searchContainer","onSubmit","e","preventDefault","seachBox","type","searchInput","value","onChange","target","push","searchButton","LandingPage","debouncedSearch","delay","debouncedValue","setDebouncedValue","handler","setTimeout","clearTimeout","useDebounce","App","exact","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.ef590e04.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"detailsContainer\":\"MovieDetails_detailsContainer__2yD4J\",\"col\":\"MovieDetails_col__3bXsB\",\"movieImage\":\"MovieDetails_movieImage__1knpT\",\"movieDetails\":\"MovieDetails_movieDetails__3JtBf\",\"firstItem\":\"MovieDetails_firstItem__2qB88\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"searchContainer\":\"Search_searchContainer__oWJmp\",\"seachBox\":\"Search_seachBox__jec06\",\"searchButton\":\"Search_searchButton__AatWo\",\"searchInput\":\"Search_searchInput__37JXk\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"spinner\":\"Spinner_spinner__1IL1O\",\"spinning\":\"Spinner_spinning__3hp0p\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"movieCard\":\"MovieCard_movieCard__3pjkS\",\"movieImage\":\"MovieCard_movieImage__VUD_J\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"moviesGrid\":\"MoviesGrid_moviesGrid__rtooL\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"title\":\"App_title__2JpDV\"};","const Api = \"https://api.themoviedb.org/3\"\r\n\r\n\r\nexport function HttpClient(path){\r\n    return fetch(Api + path, {\r\n            headers: {\r\n                Authorization: \"Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiI2YzVjZGJhMzNhMjVlZWYzYjhiMWRhMmEwZDBmMDRmNSIsInN1YiI6IjYxYjBkODUzNTgwMGM0MDAxOTk5MmYxOSIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.xpEwdylDECkIzfNoR2vbISlwD2Bhnbg0gk_2dHelIKw\",\r\n                \"Content-Type\": \"application/json;charset=utf-8\",\r\n            },\r\n        }).then(result => result.json())\r\n}","import { ImSpinner10 } from 'react-icons/im';\r\nimport style from './Spinner.module.css'\r\nexport function Spiner() {\r\n    return (\r\n        <div className={style.spinner}>\r\n            <ImSpinner10  size={60}  className={ style.spinning }/>\r\n        </div>\r\n    )\r\n}\r\n","import { useParams } from 'react-router';\r\nimport { useEffect, useState } from 'react';\r\nimport { HttpClient } from \"../utils/HttpClient\";\r\nimport { Spiner } from '../components/Spiner'\r\nimport style from './MovieDetails.module.css';\r\n\r\nexport function MovieDetails() {\r\n   \r\n    const { movieId } = useParams();\r\n    const [movie, setMovie ]  = useState(null);\r\n    const [isLoading, setIsLoading ] = useState(true);\r\n    \r\n    useEffect(() => {\r\n        setIsLoading(true);\r\n        HttpClient(\"/movie/\" + movieId).then((data) => {\r\n            setMovie(data);\r\n            setIsLoading(false);\r\n        });\r\n      }, [movieId]);\r\n\r\n      if (isLoading){\r\n          return <Spiner />\r\n      }\r\n    \r\n    if (!movie){\r\n        return null; \r\n    } \r\n\r\n    const imageUrl = 'https://image.tmdb.org/t/p/w500' + movie.poster_path;\r\n    return (\r\n        <div className={style.detailsContainer}>\r\n            <img className={`${style.col}  ${style.movieImage}`} src={imageUrl} alt={movie.title} />\r\n            <div className={`${style.col}  ${style.movieDetails}`}>\r\n                <p className={style.firstItem}><strong>Title:</strong> {movie.title}</p>\r\n                <p>\r\n                    <strong>Genres: </strong> {movie.genres.map(genre => genre.name).join(\" - \")}\r\n                </p>\r\n                <p><strong>Description:</strong> {movie.overview}</p>\r\n\r\n            </div>\r\n        </div>\r\n    );\r\n}","import styles from './MovieCard.module.css';\r\nimport { Link } from 'react-router-dom';\r\n\r\n\r\nexport function MovieCard({movie}){\r\n    const imageUrl = 'https://image.tmdb.org/t/p/w300' + movie.poster_path;\r\n    return (\r\n        <li className = {styles.movieCard} >\r\n        <Link to ={'/movies/' + movie.id}>\r\n        <img src={imageUrl} alt={movie.title} className = {styles.movieImage} />\r\n        <div>{movie.title}</div>\r\n        </Link>\r\n        </li>\r\n\r\n        );\r\n}","import React, { useEffect, useState } from \"react\";\r\nimport { MovieCard } from './MovieCard';\r\nimport { HttpClient } from \"../utils/HttpClient\";\r\nimport styles from './MoviesGrid.module.css';\r\nimport { Spiner } from \"./Spiner\";\r\nimport InfiniteScroll from \"react-infinite-scroll-component\";\r\n\r\n\r\nexport function MoviesGrid({ search }) {\r\n    const [movies, setMovies] = useState([]);\r\n    const [isLoading, setIsLoading ] = useState(true);\r\n    const [page, setPage ] = useState(1);\r\n    const [hasMore, setHasMore ] = useState(true);\r\n\r\n    useEffect(() => {\r\n        setIsLoading(true);\r\n        const searchUrl = search ? '/search/movie?query=' + search +\"&page=\" + page : \"/discover/movie?page=\" + page;\r\n        HttpClient(searchUrl).then(data => {\r\n            setMovies((prevMovies) => prevMovies.concat(data.results));\r\n            setHasMore(data.page < data.total_pages);\r\n            setIsLoading(false);\r\n        });\r\n\r\n    }, [search, page]);\r\n   \r\n\r\n    return (\r\n        <InfiniteScroll \r\n            dataLength = {movies.length}\r\n            hasMore = {hasMore}\r\n            next = {() => setPage((prevPage) => prevPage + 1 )}\r\n            loader ={<Spiner />}\r\n        >\r\n        <ul className={styles.moviesGrid}>\r\n            {movies.map((movie) => (\r\n                <MovieCard key={movie.id} movie={movie} />\r\n            ))}\r\n        </ul>\r\n        </InfiniteScroll>\r\n    );\r\n}\r\n","import { useLocation } from \"react-router\";\r\n\r\nexport function useQuery(){\r\n    return new URLSearchParams(useLocation().search);\r\n}","import style from './Search.module.css';\r\nimport { FaSearch } from 'react-icons/fa';\r\nimport { useHistory } from 'react-router';\r\nimport {useQuery} from '../hooks/useQuery';\r\n\r\nexport function Search() {\r\n    const query = useQuery();\r\n    const search = query.get(\"search\");\r\n    const history = useHistory();\r\n\r\n    const handleSubmit = (e) => {\r\n        e.preventDefault();\r\n}\r\n\r\n    return (\r\n        <form className={style.searchContainer} onSubmit={handleSubmit}>\r\n            <div className={style.seachBox}>\r\n                <input type=\"text\" className={style.searchInput} value={search} onChange={(e) => {\r\n                    const value = e.target.value;\r\n                    history.push(`/?search=${value}`);\r\n                }} />\r\n                <button type=\"submit\" className={style.searchButton}><FaSearch /></button>\r\n            </div>\r\n        </form>\r\n    )\r\n}\r\n","import { MoviesGrid } from \"../components/MoviesGrid\";\r\nimport { Search } from \"../components/Search\";\r\nimport { useDebounce } from \"../hooks/useDebounce\";\r\nimport { useQuery } from \"../hooks/useQuery\";\r\n\r\nexport function LandingPage() {\r\n    const query = useQuery();\r\n    const search = query.get(\"search\");\r\n    const debouncedSearch = useDebounce(search, 300 );\r\n    return <div>\r\n        <Search />\r\n        <MoviesGrid key={debouncedSearch}  search = {debouncedSearch}/>\r\n    </div>;\r\n}\r\n","import { useState, useEffect } from \"react\";\r\n\r\n\r\nexport function useDebounce(value, delay) {\r\n    // State and setters for debounced value\r\n    const [debouncedValue, setDebouncedValue] = useState(value);\r\n    useEffect(\r\n      () => {\r\n        // Update debounced value after delay\r\n        const handler = setTimeout(() => {\r\n          setDebouncedValue(value);\r\n        }, delay);\r\n        // Cancel the timeout if value changes (also on delay change or unmount)\r\n        // This is how we prevent debounced value from updating if value is changed ...\r\n        // .. within the delay period. Timeout gets cleared and restarted.\r\n        return () => {\r\n          clearTimeout(handler);\r\n        };\r\n      },\r\n      [value, delay] // Only re-call effect if value or delay changes\r\n    );\r\n    return debouncedValue;\r\n  }","import { MovieDetails } from \"./pages/MovieDetails\";\r\nimport { LandingPage } from \"./pages/LandingPage\";\r\n\r\nimport styles from './App.module.css';\r\nimport {\r\n    BrowserRouter as Router,\r\n    Switch,\r\n    Route,\r\n    Link\r\n} from \"react-router-dom\";\r\n\r\n\r\n\r\nexport function App() {\r\n    return (\r\n        <Router>\r\n            <div>\r\n                <header>\r\n                    <Link to=\"/\"><h1 className={styles.title} >Movies</h1></Link>\r\n                </header>\r\n                <main>\r\n                    <Switch>\r\n                        <Route exact path=\"/movies/:movieId\">\r\n                            <MovieDetails />\r\n                        </Route>\r\n                        <Route exact path=\"/\"><LandingPage /></Route>\r\n                    </Switch>\r\n                </main>\r\n            </div>\r\n        </Router>\r\n    );\r\n}\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport { App } from './App'\n\nReactDOM.render(\n  <div>\n    <App />\n  </div>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}