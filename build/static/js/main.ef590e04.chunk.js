(this.webpackJsonpmovies=this.webpackJsonpmovies||[]).push([[0],{10:function(e,t,n){e.exports={detailsContainer:"MovieDetails_detailsContainer__2yD4J",col:"MovieDetails_col__3bXsB",movieImage:"MovieDetails_movieImage__1knpT",movieDetails:"MovieDetails_movieDetails__3JtBf",firstItem:"MovieDetails_firstItem__2qB88"}},13:function(e,t,n){e.exports={searchContainer:"Search_searchContainer__oWJmp",seachBox:"Search_seachBox__jec06",searchButton:"Search_searchButton__AatWo",searchInput:"Search_searchInput__37JXk"}},16:function(e,t,n){e.exports={spinner:"Spinner_spinner__1IL1O",spinning:"Spinner_spinning__3hp0p"}},19:function(e,t,n){e.exports={movieCard:"MovieCard_movieCard__3pjkS",movieImage:"MovieCard_movieImage__VUD_J"}},23:function(e,t,n){e.exports={moviesGrid:"MoviesGrid_moviesGrid__rtooL"}},26:function(e,t,n){e.exports={title:"App_title__2JpDV"}},31:function(e,t,n){},41:function(e,t,n){"use strict";n.r(t);var c=n(1),i=n(20),a=n.n(i),s=(n(31),n(8)),r=n(3);function o(e){return fetch("https://api.themoviedb.org/3"+e,{headers:{Authorization:"Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiI2YzVjZGJhMzNhMjVlZWYzYjhiMWRhMmEwZDBmMDRmNSIsInN1YiI6IjYxYjBkODUzNTgwMGM0MDAxOTk5MmYxOSIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.xpEwdylDECkIzfNoR2vbISlwD2Bhnbg0gk_2dHelIKw","Content-Type":"application/json;charset=utf-8"}}).then((function(e){return e.json()}))}var j=n(21),l=n(16),u=n.n(l),h=n(2);function b(){return Object(h.jsx)("div",{className:u.a.spinner,children:Object(h.jsx)(j.a,{size:60,className:u.a.spinning})})}var m=n(10),d=n.n(m);function v(){var e=Object(r.h)().movieId,t=Object(c.useState)(null),n=Object(s.a)(t,2),i=n[0],a=n[1],j=Object(c.useState)(!0),l=Object(s.a)(j,2),u=l[0],m=l[1];if(Object(c.useEffect)((function(){m(!0),o("/movie/"+e).then((function(e){a(e),m(!1)}))}),[e]),u)return Object(h.jsx)(b,{});if(!i)return null;var v="https://image.tmdb.org/t/p/w500"+i.poster_path;return Object(h.jsxs)("div",{className:d.a.detailsContainer,children:[Object(h.jsx)("img",{className:"".concat(d.a.col,"  ").concat(d.a.movieImage),src:v,alt:i.title}),Object(h.jsxs)("div",{className:"".concat(d.a.col,"  ").concat(d.a.movieDetails),children:[Object(h.jsxs)("p",{className:d.a.firstItem,children:[Object(h.jsx)("strong",{children:"Title:"})," ",i.title]}),Object(h.jsxs)("p",{children:[Object(h.jsx)("strong",{children:"Genres: "})," ",i.genres.map((function(e){return e.name})).join(" - ")]}),Object(h.jsxs)("p",{children:[Object(h.jsx)("strong",{children:"Description:"})," ",i.overview]})]})]})}var O=n(19),p=n.n(O),x=n(12);function f(e){var t=e.movie,n="https://image.tmdb.org/t/p/w300"+t.poster_path;return Object(h.jsx)("li",{className:p.a.movieCard,children:Object(h.jsxs)(x.b,{to:"/movies/"+t.id,children:[Object(h.jsx)("img",{src:n,alt:t.title,className:p.a.movieImage}),Object(h.jsx)("div",{children:t.title})]})})}var _=n(23),g=n.n(_),I=n(24);function N(e){var t=e.search,n=Object(c.useState)([]),i=Object(s.a)(n,2),a=i[0],r=i[1],j=Object(c.useState)(!0),l=Object(s.a)(j,2),u=(l[0],l[1]),m=Object(c.useState)(1),d=Object(s.a)(m,2),v=d[0],O=d[1],p=Object(c.useState)(!0),x=Object(s.a)(p,2),_=x[0],N=x[1];return Object(c.useEffect)((function(){u(!0),o(t?"/search/movie?query="+t+"&page="+v:"/discover/movie?page="+v).then((function(e){r((function(t){return t.concat(e.results)})),N(e.page<e.total_pages),u(!1)}))}),[t,v]),Object(h.jsx)(I.a,{dataLength:a.length,hasMore:_,next:function(){return O((function(e){return e+1}))},loader:Object(h.jsx)(b,{}),children:Object(h.jsx)("ul",{className:g.a.moviesGrid,children:a.map((function(e){return Object(h.jsx)(f,{movie:e},e.id)}))})})}var D=n(13),M=n.n(D),S=n(25);function J(){return new URLSearchParams(Object(r.g)().search)}function C(){var e=J().get("search"),t=Object(r.f)();return Object(h.jsx)("form",{className:M.a.searchContainer,onSubmit:function(e){e.preventDefault()},children:Object(h.jsxs)("div",{className:M.a.seachBox,children:[Object(h.jsx)("input",{type:"text",className:M.a.searchInput,value:e,onChange:function(e){var n=e.target.value;t.push("/?search=".concat(n))}}),Object(h.jsx)("button",{type:"submit",className:M.a.searchButton,children:Object(h.jsx)(S.a,{})})]})})}function B(){var e=function(e,t){var n=Object(c.useState)(e),i=Object(s.a)(n,2),a=i[0],r=i[1];return Object(c.useEffect)((function(){var n=setTimeout((function(){r(e)}),t);return function(){clearTimeout(n)}}),[e,t]),a}(J().get("search"),300);return Object(h.jsxs)("div",{children:[Object(h.jsx)(C,{}),Object(h.jsx)(N,{search:e},e)]})}var w=n(26),y=n.n(w);function k(){return Object(h.jsx)(x.a,{children:Object(h.jsxs)("div",{children:[Object(h.jsx)("header",{children:Object(h.jsx)(x.b,{to:"/",children:Object(h.jsx)("h1",{className:y.a.title,children:"Movies"})})}),Object(h.jsx)("main",{children:Object(h.jsxs)(r.c,{children:[Object(h.jsx)(r.a,{exact:!0,path:"/movies/:movieId",children:Object(h.jsx)(v,{})}),Object(h.jsx)(r.a,{exact:!0,path:"/",children:Object(h.jsx)(B,{})})]})})]})})}a.a.render(Object(h.jsx)("div",{children:Object(h.jsx)(k,{})}),document.getElementById("root"))}},[[41,1,2]]]);
//# sourceMappingURL=main.ef590e04.chunk.js.map