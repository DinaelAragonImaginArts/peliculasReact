(this.webpackJsonpmovies=this.webpackJsonpmovies||[]).push([[0],{10:function(e,t,c){e.exports={detailsContainer:"MovieDetails_detailsContainer__2yD4J",col:"MovieDetails_col__3bXsB",movieImage:"MovieDetails_movieImage__1knpT",movieDetails:"MovieDetails_movieDetails__3JtBf",firstItem:"MovieDetails_firstItem__2qB88"}},13:function(e,t,c){e.exports={searchContainer:"Search_searchContainer__oWJmp",seachBox:"Search_seachBox__jec06",searchButton:"Search_searchButton__AatWo",searchInput:"Search_searchInput__37JXk"}},16:function(e,t,c){e.exports={spinner:"Spinner_spinner__1IL1O",spinning:"Spinner_spinning__3hp0p"}},19:function(e,t,c){e.exports={movieCard:"MovieCard_movieCard__3pjkS",movieImage:"MovieCard_movieImage__VUD_J"}},23:function(e,t,c){e.exports={moviesGrid:"MoviesGrid_moviesGrid__rtooL"}},26:function(e,t,c){e.exports={title:"App_title__2JpDV"}},31:function(e,t,c){},41:function(e,t,c){"use strict";c.r(t);var n=c(1),i=c(20),s=c.n(i),a=(c(31),c(8)),r=c(3);function o(e){return fetch("https://api.themoviedb.org/3"+e,{headers:{Authorization:"Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiI2YzVjZGJhMzNhMjVlZWYzYjhiMWRhMmEwZDBmMDRmNSIsInN1YiI6IjYxYjBkODUzNTgwMGM0MDAxOTk5MmYxOSIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.xpEwdylDECkIzfNoR2vbISlwD2Bhnbg0gk_2dHelIKw","Content-Type":"application/json;charset=utf-8"}}).then((function(e){return e.json()}))}var j=c(21),h=c(16),l=c.n(h),u=c(2);function b(){return Object(u.jsx)("div",{className:l.a.spinner,children:Object(u.jsx)(j.a,{size:60,className:l.a.spinning})})}var m=c(10),d=c.n(m);function O(){var e=Object(r.h)().movieId,t=Object(n.useState)(null),c=Object(a.a)(t,2),i=c[0],s=c[1],j=Object(n.useState)(!0),h=Object(a.a)(j,2),l=h[0],m=h[1];if(Object(n.useEffect)((function(){m(!0),o("/movie/"+e).then((function(e){s(e),m(!1)}))}),[e]),l)return Object(u.jsx)(b,{});if(!i)return null;var O="https://image.tmdb.org/t/p/w500"+i.poster_path;return Object(u.jsxs)("div",{className:d.a.detailsContainer,children:[Object(u.jsx)("img",{className:"".concat(d.a.col,"  ").concat(d.a.movieImage),src:O,alt:i.title}),Object(u.jsxs)("div",{className:"".concat(d.a.col,"  ").concat(d.a.movieDetails),children:[Object(u.jsxs)("p",{className:d.a.firstItem,children:[Object(u.jsx)("strong",{children:"Title:"})," ",i.title]}),Object(u.jsxs)("p",{children:[Object(u.jsx)("strong",{children:"Genres: "})," ",i.genres.map((function(e){return e.name})).join(" - ")]}),Object(u.jsxs)("p",{children:[Object(u.jsx)("strong",{children:"Description:"})," ",i.overview]})]})]})}var v=c(19),p=c.n(v),x=c(12);function f(e){var t=e.movie,c="https://image.tmdb.org/t/p/w300"+t.poster_path;return Object(u.jsx)("li",{className:p.a.movieCard,children:Object(u.jsxs)(x.b,{to:"/movies/"+t.id,children:[Object(u.jsx)("img",{src:c,alt:t.title,className:p.a.movieImage}),Object(u.jsx)("div",{children:t.title})]})})}var _=c(23),g=c.n(_),I=c(24);function N(e){var t=e.search,c=Object(n.useState)([]),i=Object(a.a)(c,2),s=i[0],r=i[1],j=Object(n.useState)(!0),h=Object(a.a)(j,2),l=(h[0],h[1]),m=Object(n.useState)(1),d=Object(a.a)(m,2),O=d[0],v=d[1],p=Object(n.useState)(!0),x=Object(a.a)(p,2),_=x[0],N=x[1];return Object(n.useEffect)((function(){l(!0),o(t?"/search/movie?query="+t+"&page="+O:"/discover/movie?page="+O).then((function(e){r((function(t){return t.concat(e.results)})),N(e.page<e.total_pages),l(!1)}))}),[t,O]),Object(u.jsx)(I.a,{dataLength:s.length,hasMore:_,next:function(){return v((function(e){return e+1}))},loader:Object(u.jsx)(b,{}),children:Object(u.jsx)("ul",{className:g.a.moviesGrid,children:s.map((function(e){return Object(u.jsx)(f,{movie:e},e.id)}))})})}var D=c(13),M=c.n(D),S=c(25);function J(){return new URLSearchParams(Object(r.g)().search)}function C(){var e=J().get("search"),t=Object(n.useState)(""),c=Object(a.a)(t,2),i=c[0],s=c[1],o=Object(r.f)();Object(n.useEffect)((function(){s(e||"")}),[e]);return Object(u.jsx)("form",{className:M.a.searchContainer,onSubmit:function(e){e.preventDefault(),o.push("/?search=".concat(i))},children:Object(u.jsxs)("div",{className:M.a.seachBox,children:[Object(u.jsx)("input",{type:"text",className:M.a.searchInput,value:i,onChange:function(e){return s(e.target.value)}}),Object(u.jsx)("button",{type:"submit",className:M.a.searchButton,children:Object(u.jsx)(S.a,{})})]})})}function B(){var e=J().get("search");return Object(u.jsxs)("div",{children:[Object(u.jsx)(C,{}),Object(u.jsx)(N,{search:e},e)]})}var w=c(26),y=c.n(w);function k(){return Object(u.jsx)(x.a,{children:Object(u.jsxs)("div",{children:[Object(u.jsx)("header",{children:Object(u.jsx)(x.b,{to:"/",children:Object(u.jsx)("h1",{className:y.a.title,children:"Movies"})})}),Object(u.jsx)("main",{children:Object(u.jsxs)(r.c,{children:[Object(u.jsx)(r.a,{exact:!0,path:"/movies/:movieId",children:Object(u.jsx)(O,{})}),Object(u.jsx)(r.a,{exact:!0,path:"/",children:Object(u.jsx)(B,{})})]})})]})})}s.a.render(Object(u.jsx)("div",{children:Object(u.jsx)(k,{})}),document.getElementById("root"))}},[[41,1,2]]]);
//# sourceMappingURL=main.8d19198a.chunk.js.map